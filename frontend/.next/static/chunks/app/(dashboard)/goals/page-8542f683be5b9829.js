(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{1331:(e,a,s)=>{Promise.resolve().then(s.bind(s,2589))},1601:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(4138).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2237:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(4138).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2589:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var l=s(9835),r=s(5931),t=s(2237),n=s(4138);let d=(0,n.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),i=(0,n.A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var o=s(2646),c=s(1601),u=s(8553),m=s(1077);function x(){let[e,a]=(0,r.useState)(null),[s,n]=(0,r.useState)(!0),[x,g]=(0,r.useState)(!1),[h,v]=(0,r.useState)(!1),[b,j]=(0,r.useState)({}),[p,f]=(0,r.useState)(new Date().getMonth()+1),[y,_]=(0,r.useState)(new Date().getFullYear()),N=new Date(y,p-1,1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),w=p===new Date().getMonth()+1&&y===new Date().getFullYear();(0,r.useEffect)(()=>{z()},[p,y]);let z=async()=>{n(!0);let e={id:0,month:p,year:y,dza_sales_target:0,mentoria_sales_target:0,dza_revenue_target:0,mentoria_revenue_target:0,global_revenue_target:0,created_at:"",updated_at:""};try{let{data:s,error:l}=await (0,m.$c)(p,y);l?(console.error("Erro ao carregar progresso das metas:",l),a({goal:e,current:{dza_sales:0,mentoria_sales:0,dza_revenue:0,mentoria_revenue:0,global_revenue:0},progress:{dza_sales:0,mentoria_sales:0,dza_revenue:0,mentoria_revenue:0,global_revenue:0}}),j(e)):(a(s),j((null==s?void 0:s.goal)||e))}catch(e){console.error("Erro ao carregar metas:",e)}finally{n(!1)}},k=async()=>{v(!0);try{let e={month:p,year:y,dza_sales_target:b.dza_sales_target||0,mentoria_sales_target:b.mentoria_sales_target||0,dza_revenue_target:b.dza_revenue_target||0,mentoria_revenue_target:b.mentoria_revenue_target||0,global_revenue_target:b.global_revenue_target||0},{error:a}=await (0,m.hp)(e);a?(console.error("Erro ao salvar meta:",a),alert("Erro ao salvar meta: "+a.message)):(g(!1),await z())}catch(e){console.error("Erro ao salvar:",e),alert("Erro ao salvar meta")}finally{v(!1)}},A=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),F=e=>e>=100?"bg-green-500":e>=75?"bg-yellow-500":e>=50?"bg-orange-500":"bg-red-500",M=e=>e>=100?"text-green-600":e>=75?"text-yellow-600":e>=50?"text-orange-600":"text-red-600";return s?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Metas Mensais"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Acompanhe e configure suas metas para ",N]})]}),(0,l.jsx)("div",{className:"flex gap-2",children:x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:()=>{g(!1),j((null==e?void 0:e.goal)||{})},className:"flex items-center gap-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:h,children:[(0,l.jsx)(t.A,{className:"h-4 w-4"}),"Cancelar"]}),(0,l.jsxs)("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:h,children:[h?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,l.jsx)(d,{className:"h-4 w-4"}),h?"Salvando...":"Salvar"]})]}):(0,l.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,l.jsx)(i,{className:"h-4 w-4"}),"Editar Metas"]})})]}),(0,l.jsx)("div",{className:"card",children:(0,l.jsx)("div",{className:"card-content",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xeas"}),(0,l.jsx)("select",{value:p,onChange:e=>{f(parseInt(e.target.value)),g(!1)},className:"w-40 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:x,children:Array.from({length:12},(e,a)=>{let s=a+1,r=new Date(2025,a,1).toLocaleDateString("pt-BR",{month:"long"});return(0,l.jsx)("option",{value:s,children:r.charAt(0).toUpperCase()+r.slice(1)},s)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano"}),(0,l.jsx)("select",{value:y,onChange:e=>{_(parseInt(e.target.value)),g(!1)},className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:x,children:Array.from({length:5},(e,a)=>{let s=new Date().getFullYear()-1+a;return(0,l.jsx)("option",{value:s,children:s},s)})})]})]}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:x?"Termine a edi\xe7\xe3o antes de mudar o per\xedodo":w?"":"\uD83D\uDCCA Visualizando dados hist\xf3ricos"})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(o.A,{className:"h-5 w-5 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Vendas DZA"}),x?(0,l.jsx)("input",{type:"number",value:b.dza_sales_target||"",onChange:e=>j({...b,dza_sales_target:parseInt(e.target.value)||0}),className:"text-2xl font-bold text-gray-900 w-20 border-b border-gray-300 focus:border-blue-500 outline-none",placeholder:"0"}):(0,l.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(null==e?void 0:e.current.dza_sales)||0," / ",(null==e?void 0:e.goal.dza_sales_target)||0]})]})]})}),!x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(F((null==e?void 0:e.progress.dza_sales)||0)),style:{width:"".concat(Math.min((null==e?void 0:e.progress.dza_sales)||0,100),"%")}})}),(0,l.jsxs)("div",{className:"text-right text-sm font-medium ".concat(M((null==e?void 0:e.progress.dza_sales)||0)),children:[((null==e?void 0:e.progress.dza_sales)||0).toFixed(1),"%"]})]})]})}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(c.A,{className:"h-5 w-5 text-green-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Vendas Mentoria"}),x?(0,l.jsx)("input",{type:"number",value:b.mentoria_sales_target||"",onChange:e=>j({...b,mentoria_sales_target:parseInt(e.target.value)||0}),className:"text-2xl font-bold text-gray-900 w-20 border-b border-gray-300 focus:border-blue-500 outline-none",placeholder:"0"}):(0,l.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(null==e?void 0:e.current.mentoria_sales)||0," / ",(null==e?void 0:e.goal.mentoria_sales_target)||0]})]})]})}),!x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(F((null==e?void 0:e.progress.mentoria_sales)||0)),style:{width:"".concat(Math.min((null==e?void 0:e.progress.mentoria_sales)||0,100),"%")}})}),(0,l.jsxs)("div",{className:"text-right text-sm font-medium ".concat(M((null==e?void 0:e.progress.mentoria_sales)||0)),children:[((null==e?void 0:e.progress.mentoria_sales)||0).toFixed(1),"%"]})]})]})}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"h-5 w-5 text-purple-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Faturamento Total"}),x?(0,l.jsx)("input",{type:"number",step:"0.01",value:b.global_revenue_target||"",onChange:e=>j({...b,global_revenue_target:parseFloat(e.target.value)||0}),className:"text-lg font-bold text-gray-900 w-32 border-b border-gray-300 focus:border-blue-500 outline-none",placeholder:"0"}):(0,l.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[A((null==e?void 0:e.current.global_revenue)||0)," / ",A((null==e?void 0:e.goal.global_revenue_target)||0)]})]})]})}),!x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(F((null==e?void 0:e.progress.global_revenue)||0)),style:{width:"".concat(Math.min((null==e?void 0:e.progress.global_revenue)||0,100),"%")}})}),(0,l.jsxs)("div",{className:"text-right text-sm font-medium ".concat(M((null==e?void 0:e.progress.global_revenue)||0)),children:[((null==e?void 0:e.progress.global_revenue)||0).toFixed(1),"%"]})]})]})}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"h-5 w-5 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Faturamento DZA"}),x?(0,l.jsx)("input",{type:"number",step:"0.01",value:b.dza_revenue_target||"",onChange:e=>j({...b,dza_revenue_target:parseFloat(e.target.value)||0}),className:"text-lg font-bold text-gray-900 w-32 border-b border-gray-300 focus:border-blue-500 outline-none",placeholder:"0"}):(0,l.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[A((null==e?void 0:e.current.dza_revenue)||0)," / ",A((null==e?void 0:e.goal.dza_revenue_target)||0)]})]})]})}),!x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(F((null==e?void 0:e.progress.dza_revenue)||0)),style:{width:"".concat(Math.min((null==e?void 0:e.progress.dza_revenue)||0,100),"%")}})}),(0,l.jsxs)("div",{className:"text-right text-sm font-medium ".concat(M((null==e?void 0:e.progress.dza_revenue)||0)),children:[((null==e?void 0:e.progress.dza_revenue)||0).toFixed(1),"%"]})]})]})}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"h-5 w-5 text-green-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Faturamento Mentoria"}),x?(0,l.jsx)("input",{type:"number",step:"0.01",value:b.mentoria_revenue_target||"",onChange:e=>j({...b,mentoria_revenue_target:parseFloat(e.target.value)||0}),className:"text-lg font-bold text-gray-900 w-32 border-b border-gray-300 focus:border-blue-500 outline-none",placeholder:"0"}):(0,l.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[A((null==e?void 0:e.current.mentoria_revenue)||0)," / ",A((null==e?void 0:e.goal.mentoria_revenue_target)||0)]})]})]})}),!x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(F((null==e?void 0:e.progress.mentoria_revenue)||0)),style:{width:"".concat(Math.min((null==e?void 0:e.progress.mentoria_revenue)||0,100),"%")}})}),(0,l.jsxs)("div",{className:"text-right text-sm font-medium ".concat(M((null==e?void 0:e.progress.mentoria_revenue)||0)),children:[((null==e?void 0:e.progress.mentoria_revenue)||0).toFixed(1),"%"]})]})]})})]}),x&&(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\uD83D\uDCA1 Dicas para definir metas"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Vendas"}),(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsx)("li",{children:"• Base-se no hist\xf3rico dos \xfaltimos meses"}),(0,l.jsx)("li",{children:"• Considere sazonalidade e campanhas"}),(0,l.jsx)("li",{children:"• Defina metas desafiadoras mas realistas"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Faturamento"}),(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsx)("li",{children:"• Valores em reais (ex: 25000 para R$ 25.000)"}),(0,l.jsx)("li",{children:"• Considere comiss\xf5es e impostos"}),(0,l.jsx)("li",{children:"• Alinhe com objetivos financeiros do neg\xf3cio"})]})]})]})]})})]})}},2646:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(4138).A)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},8553:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(4138).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[338,49,900,341,358],()=>e(e.s=1331)),_N_E=e.O()}]);