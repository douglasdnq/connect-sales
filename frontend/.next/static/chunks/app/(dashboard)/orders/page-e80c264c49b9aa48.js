(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{728:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var r=t(9835),a=t(5931),l=t(4138);let i=(0,l.A)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var n=t(2932),d=t(7472);let o=(0,l.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),c=(0,l.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var x=t(2646),u=t(1834),m=t(8849),h=t(8553),p=t(7265),g=t(1077),b=t(4141),j=t(9411),f=t(2237);function y(e){let{isOpen:s,onClose:t,webhookData:l,orderInfo:i}=e,[n,d]=(0,a.useState)(!1);if(!s)return null;let o=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(l,null,2)),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Erro ao copiar:",e)}},c=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&"object"==typeof e?Object.entries(e).map((e,t)=>{let[a,l]=e;return(0,r.jsx)("div",{className:"".concat(s>0?"ml-4":""," mb-2"),children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-2",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-700 min-w-0 ".concat(s>0?"text-sm":""),children:[a,":"]}),"object"==typeof l&&null!==l?(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("div",{className:"bg-gray-50 p-2 rounded border",children:c(l,s+1)})}):(0,r.jsx)("span",{className:"text-gray-900 break-all flex-1 font-mono text-sm",children:null==l?"N/A":"object"==typeof l?JSON.stringify(l,null,2):String(l)})]})},"".concat(a,"-").concat(t))}):[]};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col border border-white/20",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200/60",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Detalhes do Webhook"}),(0,r.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Pedido:"})," ",i.orderId]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Cliente:"})," ",i.customerName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Produto:"})," ",i.productName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Origem:"}),i.isImported?(0,r.jsx)("span",{className:"inline-flex ml-2 px-2 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-800 border border-orange-200",children:"Importado"}):(0,r.jsx)("span",{className:"inline-flex ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 border border-green-200",children:"Webhook"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors text-sm font-medium",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),"Copiado!"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"Copiar JSON"]})}),(0,r.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(f.A,{className:"h-5 w-5 text-gray-500"})})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados Completos do Webhook"}),(0,r.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:l?c(l):(0,r.jsx)("p",{className:"text-gray-500",children:"Nenhum dado dispon\xedvel"})})]})}),(0,r.jsx)("div",{className:"border-t border-gray-200/60 p-6 bg-gray-50/50",children:(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:t,className:"btn-secondary",children:"Fechar"})})})]})})}var v=t(8863);let N=(0,l.A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);function w(e){let{isOpen:s,onClose:t,onImport:l,importing:i}=e,[n,d]=(0,a.useState)(null),[c,x]=(0,a.useState)("kiwify"),[u,m]=(0,a.useState)(null),h=async()=>{if(!n)return;let e=await l(n,c);m(e),e.success&&setTimeout(()=>{d(null),m(null),t()},3e3)},p=()=>{d(null),m(null),t()};return s?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(o,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Importar Pedidos"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Fa\xe7a upload do arquivo CSV"})]})]}),(0,r.jsx)("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(f.A,{className:"h-5 w-5 text-gray-500"})})]}),(0,r.jsx)("div",{className:"p-6",children:u?(0,r.jsxs)("div",{className:"p-4 rounded-xl ".concat(u.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[u.success?(0,r.jsx)(b.A,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-0.5"}):(0,r.jsx)(v.A,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium ".concat(u.success?"text-green-900":"text-red-900"),children:u.success?"Importa\xe7\xe3o Conclu\xedda!":"Erro na Importa\xe7\xe3o"}),(0,r.jsx)("p",{className:"text-sm ".concat(u.success?"text-green-700":"text-red-700"),children:u.message}),u.success&&u.inserted&&(0,r.jsxs)("p",{className:"text-sm text-green-600 font-medium mt-1",children:[u.inserted," pedidos foram importados com sucesso."]})]})]}),u.success&&(0,r.jsx)("div",{className:"text-sm text-green-600 mt-3",children:"Esta janela ser\xe1 fechada automaticamente em alguns segundos..."})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plataforma"}),(0,r.jsxs)("select",{value:c,onChange:e=>x(e.target.value),className:"w-full p-3 border border-gray-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",children:[(0,r.jsx)("option",{value:"kiwify",children:"\uD83D\uDFE2 Kiwify"}),(0,r.jsx)("option",{value:"dmg",children:"\uD83D\uDD35 Digital Manager Guru (DMG)"}),(0,r.jsx)("option",{value:"cademi",children:"\uD83D\uDFE1 Cademi"}),(0,r.jsx)("option",{value:"voomp",children:"\uD83D\uDFE3 Voomp"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo CSV"}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:[(0,r.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var s;return d((null==(s=e.target.files)?void 0:s[0])||null)},className:"hidden",id:"csv-upload"}),(0,r.jsxs)("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[(0,r.jsx)(N,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Clique para selecionar um arquivo CSV"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ou arraste e solte aqui"})]}),n&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("p",{className:"text-sm text-blue-700 font-medium",children:["\uD83D\uDCC4 ",n.name]}),(0,r.jsxs)("p",{className:"text-xs text-blue-600",children:[(n.size/1024).toFixed(1)," KB"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl",children:[(0,r.jsxs)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:["\uD83D\uDCCB Campos esperados - ","kiwify"===c?"Kiwify":"dmg"===c?"DMG":"cademi"===c?"Cademi":"Voomp",":"]}),"kiwify"===c&&(0,r.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"ID da venda"})," (ID \xfanico do pedido)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Status"})," (paid, waiting_payment, etc.)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Produto"})," (Nome do produto)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Cliente"})," (Nome do cliente)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Email"})," (Email do cliente)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Valor l\xedquido"})," (Sua comiss\xe3o em reais)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Pre\xe7o base do produto"})," (Pre\xe7o total)"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Data de Cria\xe7\xe3o"})," (Data do pedido)"]})]}),"kiwify"!==c&&(0,r.jsxs)("p",{className:"text-xs text-blue-800",children:["Campos espec\xedficos da ",c.toUpperCase()," ser\xe3o mapeados automaticamente."]})]})]})}),!u&&(0,r.jsx)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 rounded-b-2xl",children:(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:p,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:i,children:"Cancelar"}),(0,r.jsx)("button",{onClick:h,disabled:!n||i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Importando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{className:"h-4 w-4"}),"Importar"]})})]})})]})}):null}let k=(0,l.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function C(e){let{isOpen:s,onClose:t,onDelete:l,deleting:i,title:n,itemCount:d,filters:o}=e,[x,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(null),p=async()=>{if("excluir"!==x)return;let e=await l();h(e),e.success&&setTimeout(()=>{u(""),h(null),t()},3e3)},g=()=>{u(""),h(null),t()};if(!s)return null;let j=Object.values(o).some(e=>e&&"all"!==e&&""!==e.trim());return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(null==m?void 0:m.success)?(0,r.jsx)(b.A,{className:"h-5 w-5 text-green-600"}):(0,r.jsx)(k,{className:"h-5 w-5 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:(null==m?void 0:m.success)?"Exclus\xe3o Conclu\xedda":n}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:(null==m?void 0:m.success)?"Registros exclu\xeddos com sucesso":"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]}),(0,r.jsx)("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(f.A,{className:"h-5 w-5 text-gray-500"})})]}),(0,r.jsx)("div",{className:"p-6",children:m?(0,r.jsxs)("div",{className:"p-4 rounded-xl ".concat(m.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[m.success?(0,r.jsx)(b.A,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-0.5"}):(0,r.jsx)(v.A,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium ".concat(m.success?"text-green-900":"text-red-900"),children:m.success?"Exclus\xe3o Realizada!":"Erro na Exclus\xe3o"}),(0,r.jsx)("p",{className:"text-sm ".concat(m.success?"text-green-700":"text-red-700"),children:m.message}),m.success&&m.deletedCount&&(0,r.jsxs)("p",{className:"text-sm text-green-600 font-medium mt-1",children:[m.deletedCount," registros foram exclu\xeddos permanentemente."]})]})]}),m.success&&(0,r.jsx)("div",{className:"text-sm text-green-600 mt-3",children:"Esta janela ser\xe1 fechada automaticamente em alguns segundos..."})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(k,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-red-900",children:"Aten\xe7\xe3o: Exclus\xe3o Permanente"}),(0,r.jsxs)("p",{className:"text-sm text-red-700",children:["Voc\xea est\xe1 prestes a excluir ",(0,r.jsxs)("strong",{children:[d," registros"]}),". Esta a\xe7\xe3o n\xe3o pode ser desfeita."]})]})]})}),j&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCCB Filtros ativos aplicados:"}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-sm space-y-1",children:[o.platform&&"all"!==o.platform&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Plataforma:"})," ",o.platform]}),o.status&&"all"!==o.status&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Status:"})," ",o.status]}),o.product&&"all"!==o.product&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Produto:"})," ",o.product]}),o.origin&&"all"!==o.origin&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Origem:"})," ","imported"===o.origin?"Importado (CSV)":"Webhook (Tempo Real)"]}),o.dateStart&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Data in\xedcio:"})," ",new Date(o.dateStart).toLocaleDateString("pt-BR")]}),o.dateEnd&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Data fim:"})," ",new Date(o.dateEnd).toLocaleDateString("pt-BR")]}),o.search&&o.search.trim()&&(0,r.jsxs)("div",{children:["• ",(0,r.jsx)("strong",{children:"Busca:"}),' "',o.search,'"']})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Para confirmar a exclus\xe3o, digite ",(0,r.jsx)("strong",{children:'"excluir"'}),":"]}),(0,r.jsx)("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"Digite: excluir",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",autoComplete:"off"}),x&&"excluir"!==x&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:'Digite exatamente "excluir" para confirmar'})]})]})}),!m&&(0,r.jsx)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 rounded-b-2xl",children:(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:g,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:i,children:"Cancelar"}),(0,r.jsx)("button",{onClick:p,disabled:"excluir"!==x||i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Excluindo..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{className:"h-4 w-4"}),"Excluir ",d," Registros"]})})]})})]})})}function D(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!0),[b,j]=(0,a.useState)(""),[f,v]=(0,a.useState)("all"),[N,k]=(0,a.useState)("all"),[D,S]=(0,a.useState)("all"),[A,E]=(0,a.useState)("all"),[_,M]=(0,a.useState)(null),[P,L]=(0,a.useState)(!1),[F,I]=(0,a.useState)({start:"",end:""}),[T,V]=(0,a.useState)(!1),R=(0,a.useRef)(null),O=(0,a.useRef)(null),[q,B]=(0,a.useState)(""),[z,K]=(0,a.useState)(!1),[G,H]=(0,a.useState)(!1),[W,J]=(0,a.useState)([]),[X,U]=(0,a.useState)(!1),[Z,Y]=(0,a.useState)(!1),[$,Q]=(0,a.useState)(!1),[ee,es]=(0,a.useState)(!1),[et,er]=(0,a.useState)(null),[ea,el]=(0,a.useState)(1),[ei,en]=(0,a.useState)(10),[ed,eo]=(0,a.useState)({top:0,left:0}),ec=async(e,t)=>{l(!0);try{let r=void 0!==e?e:F.start,a=void 0!==t?t:F.end,{data:l,error:i}=await (0,g.WF)(void 0,r,a);i?console.error("Erro ao carregar pedidos:",i):s(l||[])}catch(e){console.error("Erro ao carregar pedidos:",e)}finally{l(!1)}};(0,a.useEffect)(()=>{if(F.start&&F.end&&F.end<F.start)return void B("Data fim deve ser maior ou igual \xe0 data in\xedcio");B(""),(!F.start&&!F.end||F.start&&F.end&&F.end>=F.start)&&ec(F.start,F.end)},[F.start,F.end]);let ex=Array.from(new Set(e.map(e=>e.product_name).filter(Boolean))).sort((e,s)=>e.localeCompare(s)),eu=e.filter(e=>{var s,t,r,a;let l=e.platform_order_id.toLowerCase().includes(b.toLowerCase())||(null==(s=e.customer_email)?void 0:s.toLowerCase().includes(b.toLowerCase()))||(null==(t=e.customer_name)?void 0:t.toLowerCase().includes(b.toLowerCase()))||(null==(r=e.product_name)?void 0:r.toLowerCase().includes(b.toLowerCase())),i="all"===f||e.status===f,n="all"===N||(null==(a=e.platform_name)?void 0:a.toLowerCase())===N.toLowerCase(),d="all"===D||e.product_name===D,o="all"===A||"imported"===A&&e.is_imported||"webhook"===A&&!e.is_imported;return l&&i&&n&&d&&o}),em=Math.ceil(eu.length/ei),eh=eu.slice((ea-1)*ei,ea*ei);(0,a.useEffect)(()=>{el(1)},[b,f,N,D,A,F.start,F.end,ei]),(0,a.useEffect)(()=>{let e=e=>{R.current&&!R.current.contains(e.target)&&V(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let ep=e=>e?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e):"R$ 0,00",eg=async()=>{if(!et)return{success:!1,message:"Nenhum pedido selecionado"};try{let{error:t}=await (0,g.SX)(et.id);if(t)return console.error("Erro ao excluir pedido:",t),{success:!1,message:"Erro ao excluir pedido. Verifique o console."};return s(e.filter(e=>e.id!==et.id)),{success:!0,message:"Pedido exclu\xeddo com sucesso!",deletedCount:1}}catch(e){return console.error("Erro ao excluir pedido:",e),{success:!1,message:"Erro inesperado ao excluir pedido."}}},eb=async()=>{if(0!==W.length&&confirm("Tem certeza que deseja excluir ".concat(W.length," pedidos selecionados?"))){Y(!0);let e=0,s=W.length;for(let s of W){let{error:t}=await (0,g.SX)(s);t&&(console.error("Erro ao excluir pedido:",s,t),e++)}0===e?(J([]),U(!1),ec(),alert("".concat(s," pedidos exclu\xeddos com sucesso!"))):(alert("".concat(e," pedidos n\xe3o puderam ser exclu\xeddos")),ec()),Y(!1)}},ej=async()=>{Y(!0);try{let e=eu.map(e=>e.id),s=await fetch("/api/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventIds:e})}),t=await s.json();if(t.success)return await ec(),{success:!0,message:"".concat(t.deletedCount," registros exclu\xeddos com sucesso!"),deletedCount:t.deletedCount};return{success:!1,message:"Erro ao excluir registros: "+t.error}}catch(e){return console.error("Erro na exclus\xe3o baseada em filtros:",e),{success:!1,message:"Erro ao excluir registros"}}finally{Y(!1)}},ef=async(e,s)=>{H(!0);try{let t=new FormData;t.append("file",e),t.append("platform",s);let r=await fetch("/api/import-csv",{method:"POST",body:t}),a=await r.json();if(r.ok)return ec(),{success:!0,message:"Importa\xe7\xe3o conclu\xedda com sucesso!",inserted:a.inserted};return{success:!1,message:"Erro na importa\xe7\xe3o: ".concat(a.error)}}catch(e){return console.error("Erro na importa\xe7\xe3o:",e),{success:!1,message:"Erro inesperado na importa\xe7\xe3o"}}finally{H(!1)}};return t?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Pedidos"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"Gerencie todos os pedidos recebidos via webhooks"}),(F.start||F.end)&&(0,r.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Filtrado por per\xedodo"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:eu.length}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Total Pedidos","all"!==N&&(0,r.jsx)("div",{className:"text-xs text-blue-500 mt-1",children:"kiwify"===N?"\uD83D\uDFE2 Kiwify":"dmg"===N?"\uD83D\uDD35 DMG":"voomp"===N?"\uD83D\uDFE3 Voomp":"\uD83D\uDFE1 Cademi"})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:eu.filter(e=>"paid"===e.status).length}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Pagos"})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:eu.filter(e=>"pending"===e.status).length}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Pendentes"})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:ep(eu.filter(e=>"paid"===e.status).reduce((e,s)=>e+(s.net_amount||0),0))}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Comiss\xe3o Total"})]})})]}),(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"w-full sm:flex-1",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)("button",{ref:O,onClick:e=>{let s=e.currentTarget.getBoundingClientRect();eo({top:s.bottom+window.scrollY+8,left:s.left+window.scrollX}),V(!T)},className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-left whitespace-nowrap overflow-hidden",children:(()=>{if(F.start&&F.end){let e=new Date(F.start+"T00:00:00"),s=new Date(F.end+"T00:00:00"),t=e.toLocaleDateString("pt-BR"),a=s.toLocaleDateString("pt-BR");return(0,r.jsxs)("span",{className:"truncate",children:[t," - ",a]})}if(F.start){let e=new Date(F.start+"T00:00:00");return"Desde ".concat(e.toLocaleDateString("pt-BR"))}return"Selecionar per\xedodo..."})()})]}),q&&(0,r.jsxs)("div",{className:"text-sm text-red-600 mt-2 px-1",children:["⚠️ ",q]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:flex-1",children:[(0,r.jsxs)("select",{className:"w-full sm:flex-1 px-3 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-sm",value:f,onChange:e=>v(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"Status"}),(0,r.jsx)("option",{value:"paid",children:"Pago"}),(0,r.jsx)("option",{value:"pending",children:"Pendente"}),(0,r.jsx)("option",{value:"refunded",children:"Reembolsado"}),(0,r.jsx)("option",{value:"chargeback",children:"Chargeback"}),(0,r.jsx)("option",{value:"canceled",children:"Cancelado"})]}),(0,r.jsxs)("select",{className:"w-full sm:flex-1 px-3 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-sm",value:N,onChange:e=>k(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"Plataformas"}),(0,r.jsx)("option",{value:"kiwify",children:"\uD83D\uDFE2 Kiwify"}),(0,r.jsx)("option",{value:"dmg",children:"\uD83D\uDD35 Digital Manager Guru"}),(0,r.jsx)("option",{value:"voomp",children:"\uD83D\uDFE3 Voomp"}),(0,r.jsx)("option",{value:"cademi",children:"\uD83D\uDFE1 Cademi"})]}),(0,r.jsxs)("select",{className:"w-full sm:flex-1 px-3 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-sm",value:D,onChange:e=>S(e.target.value),children:[(0,r.jsxs)("option",{value:"all",children:["Produtos (",ex.length,")"]}),ex.map(e=>(0,r.jsx)("option",{value:e,children:e.length>30?e.substring(0,27)+"...":e},e))]}),(0,r.jsxs)("select",{className:"w-full sm:flex-1 px-3 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-sm",value:A,onChange:e=>E(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"Origens"}),(0,r.jsx)("option",{value:"imported",children:"\uD83D\uDCE5 Importado (CSV)"}),(0,r.jsx)("option",{value:"webhook",children:"\uD83D\uDD17 Webhook (Tempo Real)"})]})]}),F.start&&!F.end&&(0,r.jsx)("div",{className:"flex items-center px-3 py-2 bg-yellow-50 border border-yellow-200 rounded-xl text-yellow-700 text-sm",children:"⏳ Defina a data fim para filtrar"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar por pedido, cliente, email ou produto...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",value:b,onChange:e=>j(e.target.value)})]})}),(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,r.jsx)("button",{onClick:()=>{j(""),v("all"),k("all"),S("all"),E("all"),I({start:"",end:""}),B(""),V(!1)},className:"px-4 py-3 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl transition-colors duration-200 whitespace-nowrap",children:"Limpar Todos Filtros"}),(0,r.jsxs)("button",{onClick:()=>ec(),disabled:t,className:"px-4 py-3 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl transition-colors duration-200 whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 ".concat(t?"animate-spin":"")}),"Atualizar"]}),(0,r.jsxs)("button",{onClick:()=>K(!0),className:"px-4 py-3 bg-green-100 hover:bg-green-200 text-green-700 rounded-xl transition-colors duration-200 whitespace-nowrap flex items-center gap-2",children:[(0,r.jsx)(o,{className:"h-4 w-4"}),"Importar CSV"]}),W.length>0&&(0,r.jsxs)("button",{onClick:eb,disabled:Z,className:"px-4 py-3 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl transition-colors duration-200 whitespace-nowrap flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(c,{className:"h-4 w-4 ".concat(Z?"animate-spin":"")}),Z?"Excluindo...":"Excluir ".concat(W.length," selecionados")]}),("all"!==N||"all"!==f||"all"!==D||"all"!==A||b.trim()||F.start||F.end)&&eu.length>0&&(0,r.jsxs)("button",{onClick:()=>Q(!0),disabled:Z,className:"px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-colors duration-200 whitespace-nowrap flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(c,{className:"h-4 w-4 ".concat(Z?"animate-spin":"")}),"Excluir Filtrados (",eu.length,")"]})]})]})]})})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content p-0",children:[0===eu.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)(x.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Nenhum pedido encontrado"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:0===e.length?"Envie alguns webhooks da Kiwify para ver os pedidos aqui.":"Tente ajustar os filtros."})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50/80",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"w-12 px-3 py-4 text-left",children:(0,r.jsx)("input",{type:"checkbox",checked:X,onChange:e=>{var s;U(s=e.target.checked),s?J(eh.map(e=>e.id)):J([])},className:"w-4 h-4"})}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Data"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cliente"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Produto"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Comiss\xe3o"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Plataforma"}),(0,r.jsx)("th",{className:"w-20 px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:eh.map(e=>{var s,t,a;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50/30 transition-colors",children:[(0,r.jsx)("td",{className:"w-12 px-3 py-4",children:(0,r.jsx)("input",{type:"checkbox",checked:W.includes(e.id),onChange:s=>{var t;return t=e.id,void(s.target.checked?J([...W,t]):(J(W.filter(e=>e!==t)),U(!1)))},className:"w-4 h-4"})}),(0,r.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:new Date(e.order_date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.order_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})}),(0,r.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customer_name}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.customer_email})]})]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:e.product_name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.platform_order_id]})]})]})}),(0,r.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-600",children:ep(e.net_amount)}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Bruto: ",ep(e.gross_amount)]})]})]})}),(0,r.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full border ".concat((e=>{switch(e){case"paid":return"status-success";case"pending":return"status-warning";case"refunded":case"chargeback":return"status-error";default:return"bg-gray-50 text-gray-600 border-gray-200"}})(e.status)),children:(e=>{switch(e){case"paid":return"Pago";case"pending":return"Pendente";case"refunded":return"Reembolsado";case"chargeback":return"Chargeback";case"canceled":return"Cancelado";default:return e}})(e.status)})}),(0,r.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"flex items-center",children:(null==(s=e.platform_name)?void 0:s.toLowerCase())==="kiwify"?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-2",children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:"K"})}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Kiwify"})]}):(null==(t=e.platform_name)?void 0:t.toLowerCase())==="dmg"?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mr-2",children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:"D"})}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"DMG"})]}):(null==(a=e.platform_name)?void 0:a.toLowerCase())==="voomp"?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center mr-2",children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:"V"})}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Voomp"})]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center mr-2",children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:"?"})}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.platform_name||"Desconhecida"})]})})}),(0,r.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>{M(e),L(!0)},className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalhes do webhook",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>{er(e),es(!0)},className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir pedido",children:(0,r.jsx)(c,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),eu.length>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6 px-6 py-4 bg-gray-50/80 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Mostrando ",(ea-1)*ei+1," at\xe9 ",Math.min(ea*ei,eu.length)," de ",eu.length," pedidos"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-600",children:"Itens por p\xe1gina:"}),(0,r.jsxs)("select",{value:ei,onChange:e=>en(Number(e.target.value)),className:"px-3 py-1 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,r.jsx)("option",{value:10,children:"10"}),(0,r.jsx)("option",{value:50,children:"50"}),(0,r.jsx)("option",{value:100,children:"100"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>el(ea-1),disabled:1===ea,className:"px-3 py-2 border border-gray-200 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,em)},(e,s)=>{let t;return t=em<=5||ea<=3?s+1:ea>=em-2?em-4+s:ea-2+s,(0,r.jsx)("button",{onClick:()=>el(t),className:"w-8 h-8 text-sm rounded-lg ".concat(ea===t?"bg-blue-500 text-white":"border border-gray-200 hover:bg-gray-50"),children:t},t)})}),(0,r.jsx)("button",{onClick:()=>el(ea+1),disabled:ea===em,className:"px-3 py-2 border border-gray-200 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pr\xf3ximo"})]})]})]})}),T&&(0,r.jsxs)("div",{ref:R,className:"fixed bg-white border border-gray-200 rounded-xl shadow-lg p-4 min-w-80",style:{top:"".concat(ed.top,"px"),left:"".concat(ed.left,"px"),zIndex:9999},children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Data In\xedcio"}),(0,r.jsx)("input",{type:"date",value:F.start,onChange:e=>I({...F,start:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Data Fim"}),(0,r.jsx)("input",{type:"date",value:F.end,onChange:e=>I({...F,end:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,r.jsx)("button",{onClick:()=>{I({start:"",end:""}),V(!1)},className:"text-sm text-gray-600 hover:text-gray-800",children:"Limpar"}),(0,r.jsx)("button",{onClick:()=>V(!1),className:"text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Fechar"})]})]}),_&&(0,r.jsx)(y,{isOpen:P,onClose:()=>L(!1),webhookData:_.webhook_payload,orderInfo:{orderId:_.platform_order_id,customerName:_.customer_name,productName:_.product_name,isImported:_.is_imported}}),(0,r.jsx)(w,{isOpen:z,onClose:()=>K(!1),onImport:ef,importing:G}),(0,r.jsx)(C,{isOpen:ee,onClose:()=>{es(!1),er(null)},onDelete:eg,deleting:Z,title:"Excluir Pedido",itemCount:1,filters:{}}),(0,r.jsx)(C,{isOpen:$,onClose:()=>Q(!1),onDelete:ej,deleting:Z,title:"Exclus\xe3o em Massa",itemCount:eu.length,filters:{platform:"all"!==N?N:void 0,status:"all"!==f?f:void 0,product:"all"!==D?D:void 0,origin:"all"!==A?A:void 0,dateStart:F.start||void 0,dateEnd:F.end||void 0,search:b.trim()||void 0}})]})}},1834:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2237:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2414:(e,s,t)=>{Promise.resolve().then(t.bind(t,728))},2646:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},2932:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},4141:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},7265:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7472:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8553:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8849:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8863:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9411:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4138).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])}},e=>{e.O(0,[338,49,900,341,358],()=>e(e.s=2414)),_N_E=e.O()}]);