(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{1601:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1834:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2646:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},2932:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5365:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5732:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(9835),l=t(5931),r=t(2932),c=t(8849),n=t(4138);let i=(0,n.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),d=(0,n.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var x=t(5365);let o=(0,n.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var m=t(1834),h=t(1601),u=t(7568),j=t(2646),p=t(1077);function y(){let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!0),[y,g]=(0,l.useState)(""),[N,v]=(0,l.useState)(null),[f,b]=(0,l.useState)("asc"),[w,k]=(0,l.useState)(1),[A,D]=(0,l.useState)(10);(0,l.useEffect)(()=>{!async function(){try{let{data:e,error:t}=await (0,p.m0)();t?console.error("Erro ao carregar clientes:",t):s(e||[])}catch(e){console.error("Erro ao carregar clientes:",e)}finally{n(!1)}}()},[]);let C=e.filter(e=>{var s,t,a;return(null==(s=e.name)?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null==(t=e.email)?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null==(a=e.phone)?void 0:a.includes(y))}),M=e=>e?new Date(e).toLocaleDateString("pt-BR"):"-",z=C.length,B=C.filter(e=>e.dzaDate).length,E=C.filter(e=>e.mentoriaDate).length,S=B>0?(E/B*100).toFixed(1):"0",T=C.filter(e=>null!==e.daysBetween).reduce((e,s,t,a)=>e+s.daysBetween/a.length,0),L=e=>{N===e?b("asc"===f?"desc":"asc"):(v(e),b("asc")),k(1)},_=[...C].sort((e,s)=>{if(!N)return 0;let t=e[N],a=s[N];return(null==t&&(t="daysBetween"===N?-1:""),null==a&&(a="daysBetween"===N?-1:""),("dzaDate"===N||"mentoriaDate"===N)&&(t=t?new Date(t).getTime():0,a=a?new Date(a).getTime():0),t<a)?"asc"===f?-1:1:t>a?"asc"===f?1:-1:0}),q=Math.ceil(_.length/A),F=_.slice((w-1)*A,w*A);return((0,l.useEffect)(()=>{k(1)},[y,A]),t)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"An\xe1lise de Clientes"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Jornada DZA â†’ Mentoria e an\xe1lise de convers\xe3o"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:z}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total Clientes"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:B}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Compraram DZA"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:E}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Entraram Mentoria"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[S,"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Taxa Convers\xe3o"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:T>0?Math.round(T):0}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Dias M\xe9dios"})]})})]}),(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",value:y,onChange:e=>g(e.target.value)})]})})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"card-content p-0",children:0===C.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Nenhum cliente encontrado"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Tente ajustar os filtros de busca."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50/80",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-4 text-left",children:(0,a.jsxs)("button",{onClick:()=>L("name"),className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wider hover:text-gray-900 transition-colors",children:["Cliente","name"===N&&("asc"===f?(0,a.jsx)(i,{className:"h-3 w-3"}):(0,a.jsx)(d,{className:"h-3 w-3"}))]})}),(0,a.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telefone"}),(0,a.jsx)("th",{className:"px-4 py-4 text-left",children:(0,a.jsxs)("button",{onClick:()=>L("dzaDate"),className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wider hover:text-gray-900 transition-colors",children:["Data DZA","dzaDate"===N&&("asc"===f?(0,a.jsx)(i,{className:"h-3 w-3"}):(0,a.jsx)(d,{className:"h-3 w-3"}))]})}),(0,a.jsx)("th",{className:"px-4 py-4 text-left",children:(0,a.jsxs)("button",{onClick:()=>L("mentoriaDate"),className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wider hover:text-gray-900 transition-colors",children:["Data Mentoria","mentoriaDate"===N&&("asc"===f?(0,a.jsx)(i,{className:"h-3 w-3"}):(0,a.jsx)(d,{className:"h-3 w-3"}))]})}),(0,a.jsx)("th",{className:"px-4 py-4 text-left",children:(0,a.jsxs)("button",{onClick:()=>L("daysBetween"),className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wider hover:text-gray-900 transition-colors",children:["Dias Entre","daysBetween"===N&&("asc"===f?(0,a.jsx)(i,{className:"h-3 w-3"}):(0,a.jsx)(d,{className:"h-3 w-3"}))]})}),(0,a.jsx)("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Jornada"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:F.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50/30 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name||"Nome n\xe3o informado"}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1"}),e.email]})]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,a.jsx)(o,{className:"h-4 w-4 text-gray-400 mr-2"}),(e=>{if(!e)return"-";let s=e.replace(/\D/g,"");return(s.startsWith("55")&&s.length>=12&&(s=s.slice(2)),11===s.length)?"(".concat(s.slice(0,2),") ").concat(s.slice(2,7),"-").concat(s.slice(7)):10===s.length?"(".concat(s.slice(0,2),") ").concat(s.slice(2,6),"-").concat(s.slice(6)):e})(e.phone)]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:e.dzaDate?(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-blue-500 mr-2"}),(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:M(e.dzaDate)})]}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-4",children:e.mentoriaDate?(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-green-500 mr-2"}),(0,a.jsx)("span",{className:"text-green-700 font-medium",children:M(e.mentoriaDate)})]}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-4",children:null!==e.daysBetween?(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 text-orange-500 mr-2"}),(0,a.jsxs)("span",{className:"text-orange-700 font-medium",children:[e.daysBetween," dias"]})]}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"flex items-center text-sm cursor-help",children:e.dzaDate&&e.mentoriaDate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-green-500 mr-2"}),(0,a.jsx)("span",{className:"text-green-700 font-medium",children:"DZA â†’ Mentoria"})]}):e.dzaDate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-blue-500 mr-2"}),(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"DZA"})]}):e.mentoriaDate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-purple-500 mr-2"}),(0,a.jsx)("span",{className:"text-purple-700 font-medium",children:"Mentoria"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Outros"})]})}),e.materials.length>0&&(0,a.jsxs)("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover:block z-10 w-80 p-3 bg-gray-800 text-white text-xs rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"font-medium mb-2",children:["Todos os materiais (",e.materials.length,")"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.materials.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1 mr-2",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-gray-300 text-xs",children:e.platform})]}),(0,a.jsx)("div",{className:"text-gray-300 text-xs whitespace-nowrap",children:M(e.date)})]},s))}),(0,a.jsx)("div",{className:"absolute top-full left-6 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-800"})]})]})})]},"".concat(e.email||e.cpf||s,"-").concat(s)))})]})})})}),!t&&C.length>0&&(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(w-1)*A+1," at\xe9 ",Math.min(w*A,_.length)," de ",_.length," resultados"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Itens por p\xe1gina:"}),(0,a.jsxs)("select",{value:A,onChange:e=>D(parseInt(e.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"})]})]})]}),q>1&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>k(Math.max(1,w-1)),disabled:1===w,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:q},(e,s)=>s+1).filter(e=>1===e||e===q||2>=Math.abs(e-w)).map((e,s,t)=>{let l=t[s-1],r=l&&e-l>1;return(0,a.jsxs)("div",{className:"flex items-center",children:[r&&(0,a.jsx)("span",{className:"px-2 text-gray-400",children:"..."}),(0,a.jsx)("button",{onClick:()=>k(e),className:"px-3 py-1 text-sm border rounded ".concat(w===e?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:e})]},e)})}),(0,a.jsx)("button",{onClick:()=>k(Math.min(q,w+1)),disabled:w===q,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pr\xf3xima"})]})]})})})]})}},7568:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8492:(e,s,t)=>{Promise.resolve().then(t.bind(t,5732))},8849:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4138).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{e.O(0,[338,49,900,341,358],()=>e(e.s=8492)),_N_E=e.O()}]);